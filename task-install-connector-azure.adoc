---
sidebar: sidebar 
permalink: task-install-connector-azure.html 
keywords: install connector, azure connector installation, azure connector, install connector in azure, bluexp, azure marketplace, manual install, create connector 
summary: BlueXP 웹 기반 콘솔, Azure Marketplace 또는 자체 Linux 호스트에 소프트웨어를 설치하여 직접 커넥터를 생성합니다. 
---
= Azure에서 커넥터를 만듭니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
BlueXP 웹 기반 콘솔, Azure Marketplace 또는 자체 Linux 호스트에 소프트웨어를 설치하여 직접 커넥터를 생성합니다.

[role="tabbed-block"]
====
.BlueXP
--
.필요한 것
* Azure 구독.
* 선택한 Azure 지역에서 VNET 및 서브넷입니다.
* 프록시 서버에 대한 세부 정보(조직에서 모든 발신 인터넷 트래픽에 대한 프록시를 필요로 하는 경우):
+
** IP 주소입니다
** 자격 증명
** HTTPS 인증서


* Connector 가상 머신에 해당 인증 방법을 사용하려는 경우 SSH 공개 키입니다. 인증 방법의 다른 옵션은 암호를 사용하는 것입니다.
+
https://learn.microsoft.com/en-us/azure/virtual-machines/linux-vm-connect?tabs=Linux["Azure에서 Linux VM에 연결하는 방법에 대해 알아보십시오"^]

* BlueXP에서 Connector에 대한 Azure 역할을 자동으로 생성하지 않으려면 고유한 역할을 만들어야 합니다 link:reference-permissions-azure.html["이 페이지의 정책 사용"].
+
이러한 권한은 Connector 인스턴스 자체에 대한 것입니다. 이전 설정과는 다른 사용 권한 집합으로 Connector를 배포하기만 하면 됩니다.



.단계
. 처음 작업 환경을 만드는 경우 * 작업 환경 추가 * 를 클릭하고 화면의 지시를 따릅니다. 그렇지 않으면 * 커넥터 * 드롭다운을 클릭하고 * 커넥터 추가 * 를 선택합니다.
+
image:screenshot_connector_add.gif["머리글의 연결선 아이콘 및 연결선 추가 동작을 보여 주는 스크린샷"]

. 클라우드 공급자로 * Microsoft Azure * 를 선택합니다.
. 커넥터 배포 * 페이지에서 다음을 수행합니다.
+
.. Authentication * 에서 Azure 권한 설정 방법과 일치하는 인증 옵션을 선택합니다.
+
*** 필요한 권한이 있는 Microsoft 계정에 로그인하려면 * Azure 사용자 계정 * 을 선택합니다.
+
이 양식은 Microsoft에서 소유하고 호스팅됩니다. 자격 증명이 NetApp에 제공되지 않습니다.

+

TIP: 이미 Azure 계정에 로그인한 경우 BlueXP에서 해당 계정을 자동으로 사용합니다. 계정이 여러 개인 경우 먼저 로그아웃해야 올바른 계정을 사용할 수 있습니다.

*** Active Directory 서비스 보안 주체 * 를 선택하여 필요한 권한을 부여하는 Azure Active Directory 서비스 보안 주체에 대한 정보를 입력합니다.
+
**** 애플리케이션(클라이언트) ID입니다
**** 디렉토리(테넌트) ID입니다
**** 클라이언트 암호






+
link:task-set-up-permissions-azure.html["서비스 보안 주체에 대해 이러한 값을 가져오는 방법에 대해 알아봅니다"].

. 마법사의 단계에 따라 커넥터를 작성합니다.
+
** * VM 인증 *: Azure 구독, 위치, 새 리소스 그룹 또는 기존 리소스 그룹을 선택한 다음 만들려는 Connector 가상 머신에 대한 인증 방법을 선택합니다.
+
가상 머신의 인증 방법은 암호 또는 SSH 공개 키일 수 있습니다.

+
https://learn.microsoft.com/en-us/azure/virtual-machines/linux-vm-connect?tabs=Linux["Azure에서 Linux VM에 연결하는 방법에 대해 알아보십시오"^]

** * 세부 정보 *: 인스턴스의 이름을 입력하고 태그를 지정한 다음 BlueXP에서 필요한 권한이 있는 새 역할을 생성할지 또는 로 설정한 기존 역할을 선택할지 여부를 선택합니다 link:reference-permissions-azure.html["필요한 권한"].
+
이 역할과 연결된 구독을 선택할 수 있습니다. 선택한 각 구독은 해당 구독에 Cloud Volumes ONTAP를 배포할 수 있는 권한을 커넥터에 제공합니다.

** * 네트워크 *: VNET 및 서브넷을 선택하고, 공용 IP 주소를 활성화할지 여부를 선택한 다음 선택적으로 프록시 구성을 지정합니다.
** * 보안 그룹 *: 새 보안 그룹을 생성할지 또는 필요한 인바운드 및 아웃바운드 규칙을 허용하는 기존 보안 그룹을 선택할지 여부를 선택합니다.
+
link:reference-ports-azure.html["Azure의 보안 그룹 규칙을 봅니다"].

** * 검토 *: 선택 사항을 검토하여 설정이 올바른지 확인합니다.


. 추가 * 를 클릭합니다.
+
가상 시스템은 약 7분 내에 준비되어야 합니다. 프로세스가 완료될 때까지 페이지를 유지해야 합니다.



.결과
프로세스가 완료되면 BlueXP에서 커넥터를 사용할 수 있습니다.

--
.Azure 마켓플레이스 를 참조하십시오
--
.단계
. Azure 마켓플레이스에서 NetApp Connector VM 페이지로 이동합니다.
+
https://azuremarketplace.microsoft.com/en-us/marketplace/apps/netapp.netapp-oncommand-cloud-manager["상용 지역에 대한 Azure Marketplace 페이지"^]

. 지금 받기 * 를 클릭한 다음 * 계속 * 을 클릭합니다.
. Azure 포털에서 * Create * 를 클릭하고 다음 단계에 따라 가상 시스템을 구성합니다.
+
VM을 구성할 때 다음 사항에 유의하십시오.

+
** 커넥터는 HDD 또는 SSD 디스크를 사용하여 최적의 성능을 발휘할 수 있습니다.
** CPU 및 RAM 요구 사항에 맞는 VM 크기를 선택합니다. DS3 v2를 권장합니다.
+
link:reference-host-requirements-azure.html["VM 요구 사항을 검토합니다"].

** 네트워크 보안 그룹의 경우 Connector는 SSH, HTTP 및 HTTPS를 사용하는 인바운드 연결을 필요로 합니다. 특정 구성에는 몇 가지 규칙이 더 필요합니다.
+
link:reference-ports-azure.html["Azure의 보안 그룹 규칙을 봅니다"].

** 관리 * 에서 * 켜기 * 를 선택하여 커넥터 VM에 대해 * 시스템 할당 관리 ID * 를 활성화합니다.
+
이 설정은 커넥터 가상 시스템이 자격 증명을 제공하지 않고 Azure Active Directory에 자신을 식별할 수 있도록 관리되는 ID를 허용하므로 중요합니다. 작업을 완료한 후에는 에서 만든 사용자 지정 역할을 할당해야 합니다 https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview["Azure 리소스의 관리 ID에 대해 자세히 알아보십시오"^].



. Review + create * 페이지에서 선택 사항을 검토하고 * Create * 를 클릭하여 배포를 시작합니다.
+
Azure는 지정된 설정으로 가상 머신을 구축합니다. 가상 머신 및 커넥터 소프트웨어는 약 5분 내에 실행되어야 합니다.

. Connector 가상 머신에 연결된 호스트에서 웹 브라우저를 열고 다음 URL을 입력합니다.
+
https://_ipaddress_[]

. 로그인한 후 Connector를 설정합니다.
+
.. Connector와 연결할 BlueXP 계정을 지정합니다.
.. 시스템의 이름을 입력합니다.
.. 에서 * 보안 환경에서 실행 중입니까? * 제한된 모드를 사용하지 않도록 설정합니다.
+
이 단계에서는 표준 모드에서 BlueXP를 사용하는 방법을 설명하므로 제한된 모드를 사용하지 않도록 설정해야 합니다. 보안 환경이 있고 BlueXP 백엔드 서비스에서 이 계정의 연결을 끊으려면 제한된 모드만 활성화해야 합니다. 그렇다면 link:task-quick-start-restricted-mode.html["제한된 모드에서 BlueXP를 시작하려면 다음 단계를 따르십시오"].

.. 시작 * 을 클릭합니다.




이제 커넥터가 설치되어 BlueXP 계정으로 설정됩니다.

.다음 단계
link:task-provide-permissions-azure.html["이전에 설정한 권한을 BlueXP에 제공합니다"].

--
.수동 설치
--
.필요한 것
* 커넥터를 설치할 수 있는 루트 권한
* Connector의 인터넷 액세스에 프록시가 필요한 경우 프록시 서버에 대한 세부 정보입니다.
+
설치 후 프록시 서버를 구성할 수 있지만 이렇게 하려면 커넥터를 다시 시작해야 합니다.

* 프록시 서버가 HTTPS를 사용하거나 프록시가 가로채기 프록시인 경우 CA 서명 인증서입니다.
* 사용자 지정 역할을 통해 필요한 Azure 권한을 제공할 수 있도록 Azure의 VM에서 활성화된 관리되는 ID입니다.
+
https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/qs-configure-portal-windows-vm["Microsoft Azure 설명서: Azure 포털을 사용하여 VM의 Azure 리소스에 대해 관리되는 ID를 구성합니다"^]



.이 작업에 대해
* 설치를 통해 AWS 명령줄 툴(awscli)을 설치하여 NetApp 지원으로부터 복구 절차를 수행할 수 있습니다.
+
awscli 설치에 실패했다는 메시지가 표시되면 메시지를 무시해도 됩니다. 도구 없이 커넥터가 제대로 작동할 수 있습니다.

* NetApp Support 사이트에서 제공되는 설치 프로그램은 이전 버전일 수 있습니다. 새 버전이 있는 경우 설치 후 커넥터가 자동으로 업데이트됩니다.


.단계
. Docker가 설정 및 실행 중인지 확인합니다.
+
[source, cli]
----
sudo systemctl enable docker && sudo systemctl start docker
----
. _http_proxy_or_https_proxy_system 변수가 호스트에 설정되어 있으면 이를 제거합니다.
+
[source, cli]
----
unset http_proxy
unset https_proxy
----
+
이러한 시스템 변수를 제거하지 않으면 설치가 실패합니다.

. 에서 Connector 소프트웨어를 다운로드합니다 https://mysupport.netapp.com/site/products/all/details/cloud-manager/downloads-tab["NetApp Support 사이트"^]를 선택한 다음 Linux 호스트에 복사합니다.
+
네트워크 또는 클라우드에서 사용하도록 고안된 "온라인" 커넥터 설치 프로그램을 다운로드해야 합니다. Connector에 대해 별도의 "오프라인" 설치 프로그램을 사용할 수 있지만 전용 모드 배포에서만 지원됩니다.

. 스크립트를 실행할 권한을 할당합니다.
+
[source, cli]
----
chmod +x OnCommandCloudManager-<version>
----
+
여기서 <version>는 다운로드한 커넥터 버전입니다.

. 설치 스크립트를 실행합니다.
+
[source, cli]
----
 ./OnCommandCloudManager-<version> --proxy <HTTP or HTTPS proxy server> --cacert <path and file name of a CA-signed certificate>
----
+
proxy 및 -- cacert 매개 변수는 선택 사항입니다. 프록시 서버가 있는 경우 표시된 대로 매개 변수를 입력해야 합니다. 설치 프로그램에서 프록시에 대한 정보를 제공하라는 메시지를 표시하지 않습니다.

+
다음은 두 가지 선택적 매개 변수를 사용하는 명령의 예입니다.

+
[source, cli]
----
 ./OnCommandCloudManager-V3.9.26 --proxy https://user:password@10.0.0.30:8080/ --cacert /tmp/cacert/certificate.cer
----
+
-- 프록시는 다음 형식 중 하나를 사용하여 커넥터가 HTTP 또는 HTTPS 프록시 서버를 사용하도록 구성합니다.

+
** http://address:port 으로 문의하십시오
** http://username:password@address:port 으로 문의하십시오
** https://address:port 으로 문의하십시오
** https://username:password@address:port 으로 문의하십시오


+
cacert는 Connector와 프록시 서버 간의 HTTPS 액세스에 사용할 CA 서명 인증서를 지정합니다. 이 매개 변수는 HTTPS 프록시 서버를 지정하거나 프록시가 가로채기 프록시인 경우에만 필요합니다.

. 설치가 완료될 때까지 기다립니다.
+
프록시 서버를 지정한 경우 설치가 끝나면 커넥터 서비스(occm)가 두 번 다시 시작됩니다.

. Connector 가상 머신에 연결된 호스트에서 웹 브라우저를 열고 다음 URL을 입력합니다.
+
https://_ipaddress_[]

. 로그인한 후 Connector를 설정합니다.
+
.. Connector와 연결할 BlueXP 계정을 지정합니다.
.. 시스템의 이름을 입력합니다.
.. 에서 * 보안 환경에서 실행 중입니까? * 제한된 모드를 사용하지 않도록 설정합니다.
+
이 단계에서는 표준 모드에서 BlueXP를 사용하는 방법을 설명하므로 제한된 모드를 사용하지 않도록 설정해야 합니다. 보안 환경이 있고 BlueXP 백엔드 서비스에서 이 계정의 연결을 끊으려면 제한된 모드만 활성화해야 합니다. 그렇다면 link:task-quick-start-restricted-mode.html["제한된 모드에서 BlueXP를 시작하려면 다음 단계를 따르십시오"].

.. 시작 * 을 클릭합니다.




.결과
이제 커넥터가 설치되어 BlueXP 계정으로 설정됩니다.

.다음 단계
link:task-provide-permissions-azure.html["이전에 설정한 권한을 BlueXP에 제공합니다"].

--
====