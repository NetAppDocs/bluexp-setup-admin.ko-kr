---
sidebar: sidebar 
permalink: task-install-connector-google.html 
keywords: install connector, google cloud connector installation, google cloud connector, install connector in google cloud, bluexp, gcloud, manual install, create connector, gcp installation, gcp connector 
summary: BlueXP 웹 기반 콘솔에서 또는 gcloud를 사용하거나 Linux 호스트에 소프트웨어를 설치하여 커넥터를 직접 만듭니다. 
---
= Google Cloud에서 Connector를 생성합니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
BlueXP 웹 기반 콘솔에서 또는 gcloud를 사용하거나 Linux 호스트에 소프트웨어를 설치하여 커넥터를 직접 만듭니다.

[role="tabbed-block"]
====
.BlueXP
--
.필요한 것
* Connector 및 Connector VM에 대한 서비스 계정을 생성하는 데 필요한 Google Cloud 권한.
+
link:task-set-up-permissions-google.html["Google Cloud 사용 권한을 설정하는 방법에 대해 알아봅니다"]

* 네트워킹 요구사항을 충족하는 VPC 및 서브넷
+
link:task-set-up-networking-google.html["네트워킹 요구 사항에 대해 알아보십시오"]

* Connector의 인터넷 액세스에 프록시가 필요한 경우 프록시 서버에 대한 세부 정보입니다.


.단계
. 커넥터 * 드롭다운을 클릭하고 * 커넥터 추가 * 를 선택합니다.
+
image:screenshot_connector_add.gif["머리글의 연결선 아이콘 및 연결선 추가 동작을 보여 주는 스크린샷"]

. 클라우드 공급자로 * Google Cloud Platform * 을 선택합니다.
. 커넥터 배포 * 페이지에서 필요한 사항에 대한 세부 정보를 검토합니다. 두 가지 옵션이 있습니다.
+
.. 제품 내 가이드를 사용하여 배포를 준비하려면 * 계속 * 을 클릭합니다. 제품 내 가이드의 각 단계에는 이 문서 페이지에 포함된 정보가 포함되어 있습니다.
.. 이 페이지의 단계를 따라 이미 준비되었으면 * 배포로 건너뛰기 * 를 클릭합니다.


. 마법사의 단계에 따라 커넥터를 작성합니다.
+
** 메시지가 표시되면 Google 계정에 로그인합니다. 이 계정에는 가상 머신 인스턴스를 생성하는 데 필요한 권한이 있어야 합니다.
+
이 양식은 Google에서 소유하고 호스팅됩니다. 자격 증명이 NetApp에 제공되지 않습니다.

** * 세부 정보 *: 가상 머신 인스턴스의 이름을 입력하고, 태그를 지정하고, 프로젝트를 선택한 다음 필요한 권한이 있는 서비스 계정을 선택합니다(자세한 내용은 위의 섹션 참조).
** * 위치 *: 인스턴스의 영역, 영역, VPC 및 서브넷을 지정합니다.
** * 네트워크*: 공용 IP 주소를 사용할지 여부를 선택하고 선택적으로 프록시 구성을 지정합니다.
** * 방화벽 정책 *: 새 방화벽 정책을 생성할지 또는 필요한 인바운드 및 아웃바운드 규칙을 허용하는 기존 방화벽 정책을 선택할지 여부를 선택합니다.
+
link:reference-ports-gcp.html["Google Cloud의 방화벽 규칙"]

** * 검토 *: 선택 사항을 검토하여 설정이 올바른지 확인합니다.


. 추가 * 를 클릭합니다.
+
인스턴스는 약 7분 내에 준비되어야 합니다. 프로세스가 완료될 때까지 페이지를 유지해야 합니다.



.결과
프로세스가 완료되면 BlueXP에서 커넥터를 사용할 수 있습니다.

--
.gcloud를 선택합니다
--
.필요한 것
* Connector 및 Connector VM에 대한 서비스 계정을 생성하는 데 필요한 Google Cloud 권한.
+
link:task-set-up-permissions-google.html["Google Cloud 사용 권한을 설정하는 방법에 대해 알아봅니다"]

* 네트워킹 요구사항을 충족하는 VPC 및 서브넷
+
link:task-set-up-networking-google.html["네트워킹 요구 사항에 대해 알아보십시오"]



.단계
. 원하는 방법을 사용하여 gcloud SDK에 로그인합니다.
+
이 예에서는 gcloud SDK가 설치된 로컬 셸을 사용하지만 Google Cloud 콘솔에서 기본 Google Cloud Shell을 사용할 수 있습니다.

+
Google Cloud SDK에 대한 자세한 내용은 를 참조하십시오 link:https://cloud.google.com/sdk["Google Cloud SDK 설명서 페이지"^].

. 위 섹션에 정의된 필수 권한이 있는 사용자로 로그인했는지 확인합니다.
+
[source, bash]
----
gcloud auth list
----
+
출력에는 * 사용자 계정이 로그인하려는 사용자 계정인 경우 다음과 같이 표시됩니다.

+
[listing]
----
Credentialed Accounts
ACTIVE  ACCOUNT
     some_user_account@domain.com
*    desired_user_account@domain.com
To set the active account, run:
 $ gcloud config set account `ACCOUNT`
Updates are available for some Cloud SDK components. To install them,
please run:
$ gcloud components update
----
. 를 실행합니다 `gcloud compute instances create` 명령:
+
[source, bash]
----
gcloud compute instances create <instance-name>
  --machine-type=n2-standard-4
  --image-project=netapp-cloudmanager
  --image-family=cloudmanager
  --scopes=cloud-platform
  --project=<project>
  --service-account=<service-account>
  --zone=<zone>
  --no-address
  --tags <network-tag>
  --network <network-path>
  --subnet <subnet-path>
  --boot-disk-kms-key <kms-key-path>
----
+
인스턴스 이름:: VM 인스턴스에 대해 원하는 인스턴스 이름입니다.
프로젝트:: (선택 사항) VM을 배포할 프로젝트입니다.
서비스 계정:: 2단계의 출력에 지정된 서비스 계정입니다.
Zone(영역):: VM을 배포할 영역입니다
주소 없음:: (선택 사항) 외부 IP 주소가 사용되지 않습니다(공용 인터넷에 트래픽을 라우팅하려면 클라우드 NAT 또는 프록시가 필요합니다).
네트워크 태그:: (선택 사항) 태그를 사용하여 방화벽 규칙을 Connector 인스턴스에 연결하는 네트워크 태그를 추가합니다
네트워크 경로:: (선택 사항) Connector를 구축할 네트워크 이름 추가(공유 VPC의 경우 전체 경로 필요)
subnet-path를 입력합니다:: (선택 사항) Connector를 구축할 서브넷의 이름 추가(공유 VPC의 경우 전체 경로 필요)
kms - 키 경로:: (선택 사항) 커넥터 디스크를 암호화하는 KMS 키 추가(IAM 사용 권한도 적용해야 함)
+
--
이러한 플래그에 대한 자세한 내용은 를 참조하십시오 link:https://cloud.google.com/sdk/gcloud/reference/compute/instances/create["Google Cloud Compute SDK 설명서"^].

--


+
명령을 실행하면 NetApp 골드 이미지를 사용하여 Connector가 구축됩니다. Connector 인스턴스 및 소프트웨어는 약 5분 내에 실행되어야 합니다.

. Connector 인스턴스에 연결된 호스트에서 웹 브라우저를 열고 다음 URL을 입력합니다.
+
https://_ipaddress_[]

. 로그인한 후 Connector를 설정합니다.
+
.. Connector와 연결할 BlueXP 계정을 지정합니다.
+
link:concept-netapp-accounts.html["BlueXP 계정에 대해 알아보십시오"].

.. 시스템의 이름을 입력합니다.




.결과
이제 커넥터가 설치되어 BlueXP 계정으로 설정됩니다.

웹 브라우저를 열고 로 이동합니다 https://console.bluexp.netapp.com["BlueXP 콘솔"^] 을 눌러 BlueXP에서 커넥터 사용을 시작합니다.

--
.수동 설치
--
.필요한 것
* 커넥터를 설치할 수 있는 루트 권한
* Connector의 인터넷 액세스에 프록시가 필요한 경우 프록시 서버에 대한 세부 정보입니다.
+
설치 후 프록시 서버를 구성할 수 있지만 이렇게 하려면 커넥터를 다시 시작해야 합니다.

* 프록시 서버가 HTTPS를 사용하거나 프록시가 가로채기 프록시인 경우 CA 서명 인증서입니다.


.이 작업에 대해
NetApp Support 사이트에서 제공되는 설치 프로그램은 이전 버전일 수 있습니다. 새 버전이 있는 경우 설치 후 커넥터가 자동으로 업데이트됩니다.

.단계
. Docker가 설정 및 실행 중인지 확인합니다.
+
[source, cli]
----
sudo systemctl enable docker && sudo systemctl start docker
----
. _http_proxy_or_https_proxy_system 변수가 호스트에 설정되어 있으면 이를 제거합니다.
+
[source, cli]
----
unset http_proxy
unset https_proxy
----
+
이러한 시스템 변수를 제거하지 않으면 설치가 실패합니다.

. 에서 Connector 소프트웨어를 다운로드합니다 https://mysupport.netapp.com/site/products/all/details/cloud-manager/downloads-tab["NetApp Support 사이트"^]를 선택한 다음 Linux 호스트에 복사합니다.
+
네트워크 또는 클라우드에서 사용하도록 고안된 "온라인" 커넥터 설치 프로그램을 다운로드해야 합니다. Connector에 대해 별도의 "오프라인" 설치 프로그램을 사용할 수 있지만 전용 모드 배포에서만 지원됩니다.

. 스크립트를 실행할 권한을 할당합니다.
+
[source, cli]
----
chmod +x OnCommandCloudManager-<version>
----
+
여기서 <version>는 다운로드한 커넥터 버전입니다.

. 설치 스크립트를 실행합니다.
+
[source, cli]
----
 ./OnCommandCloudManager-<version> --proxy <HTTP or HTTPS proxy server> --cacert <path and file name of a CA-signed certificate>
----
+
proxy 및 -- cacert 매개 변수는 선택 사항입니다. 프록시 서버가 있는 경우 표시된 대로 매개 변수를 입력해야 합니다. 설치 프로그램에서 프록시에 대한 정보를 제공하라는 메시지를 표시하지 않습니다.

+
다음은 두 가지 선택적 매개 변수를 사용하는 명령의 예입니다.

+
[source, cli]
----
 ./OnCommandCloudManager-V3.9.26 --proxy https://user:password@10.0.0.30:8080/ --cacert /tmp/cacert/certificate.cer
----
+
-- 프록시는 다음 형식 중 하나를 사용하여 커넥터가 HTTP 또는 HTTPS 프록시 서버를 사용하도록 구성합니다.

+
** \http://address:port
** \http://username:password@address:port
** \https://address:port
** \https://username:password@address:port
+
사용자는 로컬 사용자여야 합니다. 도메인 사용자는 지원되지 않습니다.



+
cacert는 Connector와 프록시 서버 간의 HTTPS 액세스에 사용할 CA 서명 인증서를 지정합니다. 이 매개 변수는 HTTPS 프록시 서버를 지정하거나 프록시가 가로채기 프록시인 경우에만 필요합니다.

. 설치가 완료될 때까지 기다립니다.
+
프록시 서버를 지정한 경우 설치가 끝나면 커넥터 서비스(occm)가 두 번 다시 시작됩니다.

. Connector 가상 머신에 연결된 호스트에서 웹 브라우저를 열고 다음 URL을 입력합니다.
+
https://_ipaddress_[]

. 로그인한 후 Connector를 설정합니다.
+
.. Connector와 연결할 BlueXP 계정을 지정합니다.
.. 시스템의 이름을 입력합니다.
.. 에서 * 보안 환경에서 실행 중입니까? * 제한된 모드를 사용하지 않도록 설정합니다.
+
이 단계에서는 표준 모드에서 BlueXP를 사용하는 방법을 설명하므로 제한된 모드를 사용하지 않도록 설정해야 합니다. 보안 환경이 있고 BlueXP 백엔드 서비스에서 이 계정의 연결을 끊으려면 제한된 모드만 활성화해야 합니다. 그렇다면 link:task-quick-start-restricted-mode.html["제한된 모드에서 BlueXP를 시작하려면 다음 단계를 따르십시오"].

.. 시작 * 을 클릭합니다.




.결과
이제 커넥터가 설치되어 BlueXP 계정으로 설정됩니다.

.다음 단계
link:task-provide-permissions-google.html["이전에 설정한 권한을 BlueXP에 제공합니다"].

--
====