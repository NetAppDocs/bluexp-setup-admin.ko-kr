---
sidebar: sidebar 
permalink: task-install-connector-aws-manual.html 
keywords: install connector, aws connector installation, aws connector, install connector in aws, bluexp, aws marketplace, manual install, create connector 
summary: 자신의 Linux 호스트에 Connector를 수동으로 설치하려면 호스트 요구 사항을 검토하고 네트워킹을 설정하고 AWS 사용 권한을 준비하고 커넥터를 설치한 다음 준비한 사용 권한을 제공해야 합니다. 
---
= Connector를 AWS에 수동으로 설치합니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
자신의 Linux 호스트에 Connector를 수동으로 설치하려면 호스트 요구 사항을 검토하고 네트워킹을 설정하고 AWS 사용 권한을 준비하고 커넥터를 설치한 다음 준비한 사용 권한을 제공해야 합니다.

.시작하기 전에
을(를) 검토해야 합니다 link:reference-limitations.html["커넥터 제한"].



== 1단계: 호스트 요구 사항을 검토합니다

Connector 소프트웨어는 특정 운영 체제 요구 사항, RAM 요구 사항, 포트 요구 사항 등을 충족하는 호스트에서 실행되어야 합니다.

전용 호스트:: 다른 애플리케이션과 공유되는 호스트에서는 Connector가 지원되지 않습니다. 호스트는 전용 호스트여야 합니다.
지원되는 운영 체제::
+
--
* 우분투 22.04 LTS
* Red Hat Enterprise Linux
+
** 8.6 - 8.9
** 9.1에서 9.3까지
+
호스트는 Red Hat Subscription Management에 등록되어 있어야 합니다. 등록되지 않은 경우 호스트는 Connector 설치 중에 필요한 타사 소프트웨어를 업데이트하기 위해 리포지토리에 액세스할 수 없습니다.

+
Connector는 이러한 운영 체제의 영어 버전에서 지원됩니다.





--
하이퍼바이저:: 지원되는 운영 체제를 실행하도록 인증된 베어 메탈 또는 호스팅된 하이퍼바이저가 필요합니다.
CPU:: 코어 4개 또는 vCPU 4개
RAM:: 14GB
AWS EC2 인스턴스 유형:: 위의 CPU 및 RAM 요구 사항을 충족하는 인스턴스 유형입니다. T3.xLarge를 권장합니다.
키 쌍:: Connector를 생성할 때 인스턴스와 함께 사용할 EC2 키 쌍을 선택해야 합니다.
/opt의 디스크 공간입니다:: 100GiB의 공간을 사용할 수 있어야 합니다
+
--
BlueXP 사용 `/opt` 를 설치합니다 `/opt/application/netapp` 디렉토리 및 컨텐츠입니다.

--
/var의 디스크 공간입니다:: 20GiB의 공간을 사용할 수 있어야 합니다
+
--
BlueXP를 사용하려면 이 공간이 필요합니다 `/var` Docker 또는 Podman은 이 디렉토리 내에 컨테이너를 생성하도록 설계되었기 때문입니다. 특히 에서 컨테이너를 만듭니다 `/var/lib/containers/storage` 디렉토리. 이 공간에서는 외부 마운트 또는 심링크가 작동하지 않습니다.

--
컨테이너 오케스트레이션 툴:: 운영 체제에 따라 Connector를 설치하기 전에 Podman 또는 Docker Engine이 필요합니다.
+
--
* Red Hat Enterprise Linux 8 및 9에는 Podman 버전 4.6.1이 필요합니다.
+
Podman의 경우 다음 전제 조건을 충족해야 합니다.

+
** podman.socket 서비스를 활성화하고 시작해야 합니다
** python3을 설치해야 합니다
** podman-comp 패키지 버전 1.0.6이 설치되어 있어야 합니다
** podman-composition을 PATH 환경 변수에 추가해야 합니다


* Ubuntu에는 Docker 엔진이 필요합니다.
+
** 지원되는 최소 버전은 23.0.6입니다.
** 지원되는 최대 버전은 25.0.5입니다.




--




== 2단계: Podman 또는 Docker Engine을 설치합니다

운영 체제에 따라 Connector를 설치하기 전에 Podman 또는 Docker Engine이 필요합니다.

* Red Hat Enterprise Linux 8 및 9에는 Podman이 필요합니다.
* Ubuntu에는 Docker 엔진이 필요합니다.


.단계
[role="tabbed-block"]
====
.팟맨
--
Podman 4.6.1을 설치합니다.

.단계
. podman-docker 패키지가 호스트에 설치되어 있는 경우 이를 제거합니다.
+
[source, cli]
----
dnf remove podman-docker
rm /var/run/docker.sock
----
. Podman을 설치합니다.
+
Podman은 공식 Red Hat Enterprise Linux 저장소에서 구할 수 있습니다.

+
Red Hat Enterprise Linux 9의 경우:

+
[source, cli]
----
sudo dnf install podman-2:4.6.1
----
+
Red Hat Enterprise Linux 8의 경우:

+
[source, cli]
----
sudo dnf install podman-3:4.6.1
----
. podman.socket 서비스를 활성화하고 시작합니다.
+
[source, cli]
----
sudo systemctl enable --now podman.socket
----
. python3 을 장착합니다.
+
[source, cli]
----
sudo dnf install python3
----
. EPEL 리포지토리 패키지를 시스템에 사용할 수 없는 경우 설치합니다.
+
EPEL(Extra Packages for Enterprise Linux) 리포지토리에서 podman-composition을 사용할 수 있기 때문에 이 단계가 필요합니다.

+
Red Hat Enterprise Linux 9의 경우:

+
[source, cli]
----
sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
----
+
Red Hat Enterprise Linux 8의 경우:

+
[source, cli]
----
sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
----
. podman-comp 패키지 1.0.6을 설치합니다.
+
[source, cli]
----
sudo dnf install podman-compose-1.0.6
----
+

NOTE: 를 사용합니다 `dnf install` 명령은 PATH 환경 변수에 podman-composition을 추가하기 위한 요구 사항을 충족합니다. 설치 명령은 podman-composition을 이미 에 포함되어 있는 /usr/bin에 추가합니다 `secure_path` 호스트 옵션.



--
.Docker 엔진
--
23.0.6과 25.0.5 사이에 Docker 엔진 버전을 설치합니다.

.단계
. Docker Engine을 설치합니다.
+
https://docs.docker.com/engine/install/["Docker의 설치 지침을 봅니다"^]

+
특정 버전의 Docker Engine을 설치하려면 다음 단계를 따르십시오. 최신 버전을 설치하면 BlueXP가 지원하지 않는 Docker 버전이 설치됩니다.

. Docker가 활성화되어 실행 중인지 확인합니다.
+
[source, cli]
----
sudo systemctl enable docker && sudo systemctl start docker
----


--
====


== 3단계: 네트워킹을 설정한다

커넥터를 설치할 네트워크 위치가 다음 요구 사항을 지원하는지 확인합니다. 이러한 요구사항을 충족하면 Connector가 하이브리드 클라우드 환경 내에서 리소스와 프로세스를 관리할 수 있습니다.

대상 네트워크에 대한 연결:: Connector를 사용하려면 작업 환경을 만들고 관리할 위치에 대한 네트워크 연결이 필요합니다. 예를 들어, 온프레미스 환경에서 Cloud Volumes ONTAP 시스템 또는 스토리지 시스템을 생성할 네트워크를 예로 들 수 있습니다.


아웃바운드 인터넷 액세스:: 커넥터를 배포하는 네트워크 위치에 특정 끝점에 연결하려면 아웃바운드 인터넷 연결이 있어야 합니다.


수동 설치 중에 연결된 끝점입니다:: 자체 Linux 호스트에 커넥터를 수동으로 설치할 경우 Connector 설치 과정에서 다음 URL에 액세스해야 합니다.
+
--
* \https://support.netapp.com
* \https://mysupport.netapp.com
* \https://cloudmanager.cloud.netapp.com/tenancy
* \https://stream.cloudmanager.cloud.netapp.com
* \https://production-artifacts.cloudmanager.cloud.netapp.com
* \https://*.blob.core.windows.net
* \https://cloudmanagerinfraprod.azurecr.io
+
설치 중에 호스트가 운영 체제 패키지를 업데이트하려고 할 수 있습니다. 호스트는 이러한 OS 패키지의 서로 다른 미러링 사이트에 연결할 수 있습니다.



--


커넥터에서 접촉된 끝점:: Connector는 일상적인 운영을 위해 퍼블릭 클라우드 환경 내의 리소스 및 프로세스를 관리하려면 다음 엔드포인트에 연결하는 아웃바운드 인터넷 액세스가 필요합니다.
+
--
아래 나열된 끝점은 모두 CNAME 항목입니다.

[cols="2a,1a"]
|===
| 엔드포인트 | 목적 


 a| 
AWS 서비스(amazonaws.com):

* CloudFormation 을 참조하십시오
* EC2(탄력적인 컴퓨팅 클라우드)
* IAM(Identity and Access Management)
* 키 관리 서비스(KMS)
* 보안 토큰 서비스(STS)
* S3(Simple Storage Service)

 a| 
를 사용하여 AWS에서 리소스를 관리합니다. 정확한 끝점은 사용 중인 AWS 지역에 따라 다릅니다. https://docs.aws.amazon.com/general/latest/gr/rande.html["자세한 내용은 AWS 설명서를 참조하십시오"^]



 a| 
https://support.netapp.com 으로 문의하십시오
https://mysupport.netapp.com 으로 문의하십시오
 a| 
라이센스 정보를 얻고 AutoSupport 메시지를 NetApp 지원 팀에 전송합니다.



 a| 
\https://*.api.bluexp.netapp.com

\https://api.bluexp.netapp.com

\https://*.cloudmanager.cloud.netapp.com

\https://cloudmanager.cloud.netapp.com

\https://netapp-cloud-account.auth0.com
 a| 
BlueXP 내에서 SaaS 기능 및 서비스를 제공합니다.

현재 Connector가 "cloudmanager.cloud.netapp.com" 에 문의하고 있지만 곧 출시될 릴리스에서 "api.bluexp.netapp.com" 에 연락하기 시작합니다.



 a| 
\https://*.blob.core.windows.net

\https://cloudmanagerinfraprod.azurecr.io
 a| 
Connector 및 해당 Docker 구성 요소를 업그레이드합니다.

|===
--


프록시 서버:: 조직에서 모든 나가는 인터넷 트래픽에 대해 프록시 서버를 배포해야 하는 경우 HTTP 또는 HTTPS 프록시에 대한 다음 정보를 가져옵니다. 설치하는 동안 이 정보를 제공해야 합니다. BlueXP는 투명한 프록시 서버를 지원하지 않습니다.
+
--
* IP 주소입니다
* 자격 증명
* HTTPS 인증서


--


포트:: 커넥터를 시작하거나 커넥터가 Cloud Volumes ONTAP에서 NetApp 지원으로 AutoSupport 메시지를 보내는 프록시로 사용되지 않는 한 커넥터로 들어오는 트래픽이 없습니다.
+
--
* HTTP(80) 및 HTTPS(443)는 드물게 사용되는 로컬 UI에 대한 액세스를 제공합니다.
* SSH(22)는 문제 해결을 위해 호스트에 연결해야 하는 경우에만 필요합니다.
* 아웃바운드 인터넷 연결을 사용할 수 없는 서브넷에 Cloud Volumes ONTAP 시스템을 배포하는 경우 포트 3128을 통한 인바운드 연결이 필요합니다.
+
Cloud Volumes ONTAP 시스템에 AutoSupport 메시지를 보내기 위한 아웃바운드 인터넷 연결이 없는 경우 BlueXP는 자동으로 해당 시스템이 커넥터에 포함된 프록시 서버를 사용하도록 구성합니다. 유일한 요구 사항은 커넥터 보안 그룹이 포트 3128을 통한 인바운드 연결을 허용하는지 확인하는 것입니다. Connector를 배포한 후 이 포트를 열어야 합니다.



--


NTP를 활성화합니다:: BlueXP 분류를 사용하여 회사 데이터 소스를 검사하려는 경우 BlueXP Connector 시스템과 BlueXP 분류 시스템 모두에서 NTP(Network Time Protocol) 서비스를 활성화하여 시스템 간에 시간이 동기화되도록 해야 합니다. https://docs.netapp.com/us-en/bluexp-classification/concept-cloud-compliance.html["BlueXP 분류에 대해 자세히 알아보십시오"^]




== 4단계: 사용 권한을 설정합니다

다음 옵션 중 하나를 사용하여 BlueXP에 AWS 권한을 제공해야 합니다.

* 옵션 1: IAM 정책을 생성하고 EC2 인스턴스와 연결할 수 있는 IAM 역할에 정책을 연결합니다.
* 옵션 2: 필요한 권한이 있는 IAM 사용자를 위해 BlueXP에 AWS 액세스 키를 제공합니다.


단계에 따라 BlueXP 권한을 준비합니다.

[role="tabbed-block"]
====
.IAM 역할
--
.단계
. AWS 콘솔에 로그인하고 IAM 서비스로 이동합니다.
. 정책 생성:
+
.. 정책 > 정책 생성 * 을 선택합니다.
.. JSON * 을 선택하고 의 내용을 복사하여 붙여 넣습니다 link:reference-permissions-aws.html["Connector에 대한 IAM 정책"].
.. 나머지 단계를 완료하고 정책을 생성합니다.
+
사용할 BlueXP 서비스에 따라 두 번째 정책을 만들어야 할 수도 있습니다. 표준 영역의 경우 권한이 두 정책에 분산됩니다. AWS에서 관리되는 정책의 최대 문자 크기 제한으로 인해 두 개의 정책이 필요합니다. link:reference-permissions-aws.html["Connector에 대한 IAM 정책에 대해 자세히 알아보십시오"].



. IAM 역할 생성:
+
.. 역할 > 역할 생성 * 을 선택합니다.
.. AWS 서비스 > EC2 * 를 선택합니다.
.. 방금 만든 정책을 첨부하여 사용 권한을 추가합니다.
.. 나머지 단계를 완료해서 역할을 만듭니다.




.결과
이제 Connector를 설치한 후 EC2 인스턴스와 연결할 수 있는 IAM 역할이 있습니다.

--
.AWS 액세스 키입니다
--
.단계
. AWS 콘솔에 로그인하고 IAM 서비스로 이동합니다.
. 정책 생성:
+
.. 정책 > 정책 생성 * 을 선택합니다.
.. JSON * 을 선택하고 의 내용을 복사하여 붙여 넣습니다 link:reference-permissions-aws.html["Connector에 대한 IAM 정책"].
.. 나머지 단계를 완료하고 정책을 생성합니다.
+
사용할 BlueXP 서비스에 따라 두 번째 정책을 만들어야 할 수도 있습니다.

+
표준 영역의 경우 권한이 두 정책에 분산됩니다. AWS에서 관리되는 정책의 최대 문자 크기 제한으로 인해 두 개의 정책이 필요합니다. link:reference-permissions-aws.html["Connector에 대한 IAM 정책에 대해 자세히 알아보십시오"].



. IAM 사용자에게 정책을 연결합니다.
+
** https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html["AWS 설명서: IAM 역할 생성"^]
** https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html["AWS 설명서: IAM 정책 추가 및 제거"^]


. 커넥터를 설치한 후 BlueXP에 추가할 수 있는 액세스 키가 사용자에게 있는지 확인합니다.


.결과
이제 필요한 권한이 있는 IAM 사용자와 BlueXP에 제공할 수 있는 액세스 키가 있습니다.

--
====


== 5단계: 커넥터를 설치합니다

필수 구성 요소를 완료한 후 자신의 Linux 호스트에 소프트웨어를 수동으로 설치할 수 있습니다.

.시작하기 전에
다음과 같은 항목이 있어야 합니다.

* 커넥터를 설치할 수 있는 루트 권한
* Connector의 인터넷 액세스에 프록시가 필요한 경우 프록시 서버에 대한 세부 정보입니다.
+
설치 후 프록시 서버를 구성할 수 있지만 이렇게 하려면 커넥터를 다시 시작해야 합니다.

+
BlueXP는 투명한 프록시 서버를 지원하지 않습니다.

* 프록시 서버가 HTTPS를 사용하거나 프록시가 가로채기 프록시인 경우 CA 서명 인증서입니다.


.이 작업에 대해
NetApp Support 사이트에서 제공되는 설치 프로그램은 이전 버전일 수 있습니다. 새 버전이 있는 경우 설치 후 커넥터가 자동으로 업데이트됩니다.

.단계
. _http_proxy_or_https_proxy_system 변수가 호스트에 설정되어 있으면 이를 제거합니다.
+
[source, cli]
----
unset http_proxy
unset https_proxy
----
+
이러한 시스템 변수를 제거하지 않으면 설치가 실패합니다.

. 에서 Connector 소프트웨어를 다운로드합니다 https://mysupport.netapp.com/site/products/all/details/cloud-manager/downloads-tab["NetApp Support 사이트"^]를 선택한 다음 Linux 호스트에 복사합니다.
+
네트워크 또는 클라우드에서 사용하도록 고안된 "온라인" 커넥터 설치 프로그램을 다운로드해야 합니다. Connector에 대해 별도의 "오프라인" 설치 프로그램을 사용할 수 있지만 전용 모드 배포에서만 지원됩니다.

. 스크립트를 실행할 권한을 할당합니다.
+
[source, cli]
----
chmod +x BlueXP-Connector-Cloud-<version>
----
+
여기서 <version>는 다운로드한 커넥터 버전입니다.

. 설치 스크립트를 실행합니다.
+
[source, cli]
----
 ./BlueXP-Connector-Cloud-<version> --proxy <HTTP or HTTPS proxy server> --cacert <path and file name of a CA-signed certificate>
----
+
proxy 및 -- cacert 매개 변수는 선택 사항입니다. 프록시 서버가 있는 경우 그림과 같이 매개 변수를 입력해야 합니다. 설치 프로그램에서 프록시에 대한 정보를 제공하라는 메시지를 표시하지 않습니다.

+
다음은 두 가지 선택적 매개 변수를 사용하는 명령의 예입니다.

+
[source, cli]
----
 ./BlueXP-Connector-Cloud-v3.9.40--proxy https://user:password@10.0.0.30:8080/ --cacert /tmp/cacert/certificate.cer
----
+
-- 프록시는 다음 형식 중 하나를 사용하여 커넥터가 HTTP 또는 HTTPS 프록시 서버를 사용하도록 구성합니다.

+
** \http://address:port
** \http://user-name:password@address:port
** \http://domain-name%92user-name:password@address:port
** \https://address:port
** \https://user-name:password@address:port
** \https://domain-name%92user-name:password@address:port
+
다음 사항에 유의하십시오.

+
*** 사용자는 로컬 사용자 또는 도메인 사용자일 수 있습니다.
*** 도메인 사용자의 경우 위에 표시된 \ 에 대해 ASCII 코드를 사용해야 합니다.
*** BlueXP는 @ 문자가 포함된 사용자 이름 또는 암호를 지원하지 않습니다.
*** 암호에 다음과 같은 특수 문자가 포함된 경우 백슬래시(& or!)를 사용하여 해당 특수 문자를 이스케이프해야 합니다.
+
예를 들면 다음과 같습니다.

+
\http://bxpproxyuser:netapp1\!@address:3128





+
cacert는 Connector와 프록시 서버 간의 HTTPS 액세스에 사용할 CA 서명 인증서를 지정합니다. 이 매개 변수는 HTTPS 프록시 서버를 지정하거나 프록시가 가로채기 프록시인 경우에만 필요합니다.

. 설치가 완료될 때까지 기다립니다.
+
프록시 서버를 지정한 경우 설치가 끝나면 커넥터 서비스(occm)가 두 번 다시 시작됩니다.

. Connector 가상 머신에 연결된 호스트에서 웹 브라우저를 열고 다음 URL을 입력합니다.
+
https://_ipaddress_[]

. 로그인한 후 Connector를 설정합니다.
+
.. Connector와 연결할 BlueXP 계정을 지정합니다.
.. 시스템의 이름을 입력합니다.
.. 에서 * 보안 환경에서 실행 중입니까? * 제한된 모드를 사용하지 않도록 설정합니다.
+
이 단계에서는 표준 모드에서 BlueXP를 사용하는 방법을 설명하므로 제한된 모드를 사용하지 않도록 설정해야 합니다. 보안 환경이 있고 BlueXP 백엔드 서비스에서 이 계정의 연결을 끊으려면 제한된 모드만 활성화해야 합니다. 그렇다면 link:task-quick-start-restricted-mode.html["제한된 모드에서 BlueXP를 시작하려면 다음 단계를 따르십시오"].

.. Let's start * 를 선택합니다.




.결과
이제 커넥터가 설치되어 BlueXP 계정으로 설정됩니다.

Connector를 생성한 동일한 AWS 계정에 Amazon S3 버킷이 있는 경우 BlueXP 캔버스에 Amazon S3 작업 환경이 자동으로 표시됩니다. https://docs.netapp.com/us-en/bluexp-s3-storage/index.html["BlueXP에서 S3 버킷을 관리하는 방법에 관해 알아보십시오"^]



== 6단계: BlueXP에 권한 제공

이제 커넥터를 설치했으므로 이전에 설정한 AWS 권한을 BlueXP에 제공해야 합니다. 권한을 제공하면 BlueXP에서 AWS의 데이터 및 스토리지 인프라를 관리할 수 있습니다.

[role="tabbed-block"]
====
.IAM 역할
--
이전에 만든 IAM 역할을 Connector EC2 인스턴스에 연결합니다.

.단계
. Amazon EC2 콘솔로 이동합니다.
. 인스턴스 * 를 선택합니다.
. 커넥터 인스턴스를 선택합니다.
. Actions > Security > Modify IAM role * 을 선택합니다.
. IAM 역할을 선택하고 * Update IAM role * 을 선택합니다.


.결과
BlueXP는 이제 AWS에서 사용자 대신 작업을 수행하는 데 필요한 권한을 가집니다.

로 이동합니다 https://console.bluexp.netapp.com["BlueXP 콘솔"^] 을 눌러 BlueXP에서 커넥터 사용을 시작합니다.

--
.AWS 액세스 키입니다
--
필요한 권한이 있는 IAM 사용자를 위해 BlueXP에 AWS 액세스 키를 제공합니다.

.단계
. 현재 BlueXP에서 올바른 커넥터가 선택되어 있는지 확인합니다.
. BlueXP 콘솔의 오른쪽 상단에서 설정 아이콘을 선택하고 * 자격 증명 * 을 선택합니다.
+
image:screenshot_settings_icon.gif["BlueXP 콘솔의 오른쪽 위에 설정 아이콘이 표시된 스크린샷."]

. 자격 증명 추가 * 를 선택하고 마법사의 단계를 따릅니다.
+
.. * 자격 증명 위치 *: * Amazon Web Services > Connector * 를 선택합니다.
.. * 자격 증명 정의 *: AWS 액세스 키와 비밀 키를 입력합니다.
.. * Marketplace 구독 *: 지금 가입하거나 기존 구독을 선택하여 마켓플레이스 구독을 이러한 자격 증명과 연결합니다.
.. * 검토 *: 새 자격 증명에 대한 세부 정보를 확인하고 * 추가 * 를 선택합니다.




.결과
BlueXP는 이제 AWS에서 사용자 대신 작업을 수행하는 데 필요한 권한을 가집니다.

로 이동합니다 https://console.bluexp.netapp.com["BlueXP 콘솔"^] 을 눌러 BlueXP에서 커넥터 사용을 시작합니다.

--
====